<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>游戏单例</title>
</head>
<body>
<script type="text/javascript">
    /**
     * 那么问题来了，如何对构造函数使用 new 操作符创建多个对象时，
     * 仅获取同一个单例对象呢。
     * 对于刚刚打经营游戏的例子，
     * 我们可以用 JavaScript 来实现一下：
     * @returns {*|ManageGame|ManageGame._schedule|null}
     * @constructor
     */
    function ManageGame() {
        if (ManageGame._schedule) { // 判断是否已经有单例了
            return ManageGame._schedule
        }
        ManageGame._schedule = this
    }

    ManageGame.getInstance = function() {
        if (ManageGame._schedule) { // 判断是否已经有单例了
            return ManageGame._schedule
        }
        return ManageGame._schedule = new ManageGame()
    };

    const schedule1 = new ManageGame();
    const schedule2 = ManageGame.getInstance();

    console.log(schedule1 === schedule2)
</script>
</body>
</html>