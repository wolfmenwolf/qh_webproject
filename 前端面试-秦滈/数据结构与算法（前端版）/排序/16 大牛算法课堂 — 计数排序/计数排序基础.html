<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script type="text/javascript">

/**
*     1. 找出乱序数组中最大的元素，建立一个最大元素 + 1长度的新数组；
*     2.统计乱序数组中每个值出现的次数，依次放入新数组中；
*     3.遍历新数组，依次去除新数组中的元素。
*/
// 乱序数组
const arr = [9,9,3,3,7,7,4,8,1,8,1,7,8,4,7,2,0,4];

// 计数排序方法
function countingSort(arr, max) {
// 创建一个新数组，用来统计数组中每个元素出现的次数
    let middle = new Array(max + 1);
    // 遍历数组，把每个元素出现的次数记录在新数组的相应位置
    for(let i = 0,len = arr.length;i < len;i ++) {
// 如果元素未出现过，则置为1
        if (!middle[arr[i]]) {
            middle[arr[i]] = 1
        } else {
// 已经出现过的元素次数 + 1
            middle[arr[i]]++
        }
    }
    // 从第几个元素开始排序
    let startIndex = 0;
    // 遍历新数组，依次取出元素
    for(let j = 0;j <= max;j ++) {
        while (middle[j] > 0) {
            arr[startIndex] = j;
// 对应元素的次数 - 1
            middle[j] --;
// 排序索引增加
            startIndex++
        }
    }
    // 得到排序好的数组
    console.log(arr);// [ 0, 1, 1, 2, 3, 3, 4, 4, 4, 7, 7, 7, 7, 8, 8, 8, 9, 9 ]
}// 验证
 countingSort(arr, 9);



</script>

</body>
</html>