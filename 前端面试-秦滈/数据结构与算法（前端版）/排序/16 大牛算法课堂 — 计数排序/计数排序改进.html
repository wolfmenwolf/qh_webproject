<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script type="text/javascript">
    // 使用我自己举的例子实现
    const arr = [90,99,99,90,91,91,96,96,98,98,93,93,92,92];

    // 改进后的计数排序方法
    function countingSort(arr) {
    // 定义最大值和最小值为数组第一个元素
    let max = arr[0],min = arr[0];
    // 查找数组中的最大值和最小值
    for (let i = 0,len = arr.length;i < len;i ++) {
        if (arr[i] > max) {
            max = arr[i]
        }
        if (arr[i] < min) {
            min = arr[i]
        }
    }
    // 根据最大值和最小值创建新的数组 新数组长度为 max - min + 1
    let middle = new Array(max - min + 1);
    let startIndex = 0;
    for(let i = 0,len = arr.length;i < len;i ++) {
// 新添加，我们要处理的索引为当期值减去最小值之后的索引。之后的步骤类似
        let index = arr[i] - min;
        if (!middle[index]) {
            middle[index] = 1
        } else {
            middle[index]++
        }
    }
    for(let j = 0;j <= max;j ++) {
        while (middle[j] > 0) {
            arr[startIndex] = j + min;
            middle[j] --;
            startIndex++
        }
    }
    // 得到排序后的结果
    console.log(arr); // [ 90, 90, 91, 91, 92, 92, 93, 93, 96, 96, 98, 98, 99, 99 ]
     }
     countingSort(arr);
</script>

</body>
</html>